# Cybersecurity

## [1] Foundations of Cybersecurity üîêüîêüîêüîêüîêüîêüîê

### Cybersecurity Activities

> Detect and respond to attacks 
> Monitoring and protecting networks 
> Investigating incidents 
> Write code to automate task 


### Definition of Cybersecurity

> The practice of ensuring confidentiality, integrity 
> and availability of information by protecting networks, devices,
> people and data from unauthorized access or criminal exploitation


### Threat Actor

> Person or group who presents a security risk.


### Security Analyst

> Are responsible for monitoring and protecting information and systems.


### Skills

* Communication 
* Collaboration
* Analysis
* Problem solving

<br/>

* Programming Languages
* Security Information and Event Management (SIEM) Tools
* Computer Forensic


### Personal Information

* __PII__ - Personal Identifiable Information
* __SPII__ - Sensitive Personal Identifiable Information

### Social Engineering

> A manipulation technique that exploits human error to gain private information, 
> access or valuables


### Phishing

> The use of digital communications to trick people
> into revealing sensitive data or deploying malicious software. 

> The __Spear phishing__ ("_dirigido_") is a targeted attack on a specific person 
> or group of people that appears to come from reliable source.

> __Whaling__ is for high ranking people in an organization.

> __Business Email Compromise__ is when a threat agent pretends to be a person
> known to the victim and tries to get them to send money or provide confidential
> company information. 
 
> __Vishing__ By voice (_telephone_)

> __Watering Hole__ A threat actor compromises a website frequently visited
> by a specific group of users.

> __USB Baiting__ By a malicious software in a USB 


### CISSP Domains

* __Security and risk management__ Goals and Objectives, compliance and law
* __Asset Security__ Storage, maintenance, retention or destruction of data
* __Security Architecture and Engineering__ Optimizes Tools and Systems
* __Communication and Network Security__ Manage and secures networks
* __Identity and access management__ Users to follow policies to control assets
* __Security Assessment and Testing__ Audits to monitor risks
* __Security Operations__ Investigations and preventive measures
* __Software Development Security__ Secure Coding Practices


### Components of Security Frameworks

1. Identifying and documenting security goals
2. Setting guidelines to achieve security goals
3. Implementing strong security processes
4. Monitoring and communicating results 


### CIA Triad (_is a guide or model that inform about organization risk_)

- __Confidentiality__ - Only authorized user can access _SPECIFIC_ assets or data
- __Integrity__ - Data is _CORRECT_, authentic and reliable
- __Availability__ - Data is accesible to those who are _AUTHORIZED_ to access it


### Ethical Principles

1. Confidentiality - PII confidential and safe
2. Privacy Protections - Safeguarding personal information from unauthorized use
3. Laws - Rules recognized by a community and enforced by a governing entity


### Security Information and Event Management (SIEM) Tools

> Collects and analyzes LOG data to monitor critical activities as Splunk or Chronicle


### Professional Declaration

> Currently I'm working at the IT Departament of an university. 
> Managing Personal Information and Databases are one of my duties. 
> I'm sure that it is very important to keep information safe 
> and inform about Security Risks.

<br/>

> I'm very interested in security, though there were attacks 
> in my job, and I want to help.
> I like to think like an attacker and make undestructibles ways of defense. 
> I'm excited about make traps to attackers and get some fun about it.

<br/>

> I love programming and make very useful tools for users or administrators. 
> I have facility for both written and verbal communication and I like to program 
> I'm a pragmatic person and I like take care of details 




## [2] Play Safe: Manage Security Risks üîêüîêüîêüîêüîêüîêüîê

### CISSP Domain #1 - Security and Risk Management

> Focused on defining security goals and objectives, 
> risk mitigation, compliance[cumplimiento], business continuity 
> and legal regulations.

__Risk Mitigation__ 

> The process of having the right _procedures and rules_ 
> in place to quickly reduce the impact of a risk like a breach[infraccion]. 

__Business continuity__

> An organization's ability to maintain their everyday productivity 
> by establishing risk disaster _recovery plans_. 


### CISSP Domain #2 - Asset Security

> Focused on _securing_ digital and physical _assets_. 
> It's also related to the storage, maintenance, retention 
> and _destruction_ of data. 


### CISSP Domain #3 - Security Architecture and Engineering

> Focused on optimizing data security by ensuring _effective tools_, 
> systems and processes are in place to protect an organization's assets and data.

__Shared responsability__ 

> All individuals within an organization take an active role in lowering risk 
> and maintaining both physical and virtual security.


### CISSP Domain #4 - Communication and Network Security

> Focused on managing and securing physical _networks and wireless communications_.


### CISSP Domain #5 - Identity and access management

> Focused on access and authorization to keep data secure, by making sure users
> follow established policies to control and manage assets. 
> _(Not to use the same user_) 

* IAM 

> __Identification__ Verification of the users who they are
> __Authentication__ Verification process to prove the identity
> __Authorization__ Related to their level of access after confirmed identity
> __Accountability__ Monitoring and recording user actions


### CISSP Domain #6 - Security Assessment and Testing

> Focused on conducting security control testing, collecting and analyzing data
> and conducting security audits to monitor for risks, threats and vulnerabilities. 

* _Find better ways_ 


### CISSP Domain #7 - Security Operations

> Focused on conducting investigations and implementing preventive measures.



### CISSP Domain #8 - Software Development Security 

> Focused on using secure coding practices.

__THREAD__

> Any circumstance or event that can _negatively impact_ assets 


__RISK__ 

> The posibility of a threat to impact the confidentiality, 
> integrity or availability of an asset.


__VULNERABILITY__ 

> A weakness that can be exploited by a threat. 
> [Outdated firewall-software, weak password, unprotected data and PEOPLE] 


__SOCIAL ENGINEERING__ 

> A manipulation technique that exploits _human error_ 
> to gain private information, access or valuables. 
> _phishing_ is a way of social engineering. 


__RANSOMWARE__

> A malicious attack where threat actors encrypt an organization's data
> and demand payment to restore access.


__DEEP WEB__

> Generally requires authorization to access it. [intranet]

__DARK WEB__

> Can only be accessed by using special software. [criminals]


__CyberSecurity Framework__ [CSF]

> Part of _National Institute of Standards and Technology_ [NIST]
> A voluntary framework that consist of standards,
> guidelines and best practices to manage cybersecurity risk.


Its _CORE_ functions are: <br/>

* __Identify__ - Manage Risk and its effect
* __Protect__ - Strategy to mitigate by policies, procedures, training and tools
* __Detect__ - Identify potential incidents - Improving monitoring to speed detections
* __Respond__ - Procedures: contain, neutralize, analyze incidents / improvements
* __Recover__ - Returning affected systems back to normal operation

<br/>

> Used for - __MANAGE RISK, IMPLEMENT STRATEGIES AND LEARN FROM MISTAKES__

__S.P. 800-53__

> Unified framework for protecting the security of information systems
> within the federal government.

__RISK MANAGEMENT FRAMEWORK__ [RMF]

* Prepare _Necessary Activities before a breach occurs_
* Categorize _Risk management processes and tasks_
* Select _Documentation of Controls_
* Implement _Plans of Security and Privacy_
* Assess[valoraciones] _if controlas are correct_ 
* Authorize _being accountable[responsable] for privacy risks in an organization_
* Monitor _be aware of how systems are operating_


__Security Frameworks__

> _Guidelines_ used for _building plans_ to help mitigate risk and threats
> to data and privacy


__Encryption__

> The process of converting data from a readable format to an _encoded_ format.
> Used to ensure confidentiality of sensitive data.


__Ciphertext__

> Is the raw encoded message that is _unreadable_ to humans and computers.
> Can't be readable until it's been decrypted into its original plaintext form.


__Authentication__

> The process of verifying who someone or something is. (_login_)
> More advanced is Multi-factor authentication (_MFA_) that
> challenge the user to demostrate that they are who they claim to be
> with additional form of authentication as a security code, biometrics.


__Biometrics__

> Unique physical characteristics thet can be used to verify a person identity.
> [fingerprint],[eye-scan],[palm-scan] and [voice]


__Vishing__

> The exploitation of electronic voice communication to obtain sensitive information
> or to impersonate a known source.


__Authorization__

> The Concept of granting access to specific resources within a system. 


__Controls__ 

> Used to reduce the impact of a threat, risk or vulnerability, and are:

* [Physical] Doors, Guards, CCTV, Access cards
* [Technical] Firewalls, Multi-Factor Authentication, Antivirus
* [Administrative] Function separation, Authorization, Assets Clasification



### Open Web Applications Security Project [OWASP] 


Principles: <br/>

* Minimize attack surface area - _all potential vulnerabilities_
* Principle of __LEAST__ Privilege - _access required everyday tasks_
* Defense in Depth - _multiple security controls_
* Separation of duties - _no one should be given so many privileges_
* Keep security simple - _avoid unnecessarily complicated solutions_
* Fix security issues correctly - _identify root cause, correct and test to ensure_

---

__Another principles:__ <br/>

* Default configuration
* Secure Fail
* Not trust in services
* Avoid security by darkness


__Security audit__

> A review of an organization's security controls, policies and procedures
> against a set of expectations

__Purposes:__ <br/>

* Identify organizational risk
* Assess controls
* Correct compliance[cumplimiento] issues

__Elements:__ <br/>

* __SCOPE__ and Goals - _Criteria_ / _outline_ [boceto] 
* __RISK__ assessment[evaluacion] - _identify_ 
* __CONTROLS__ assessment:  
  1. _administrative_[human]
  2. _technical_[hardware/software]
  3. _physical_ [access_to_assets]
* __ASSESSING__ compliance[cumplimiento] - adhering to _regulations_ 
  1. [GDPR] _GENERAL DATA PROTECTION REGULATION_
  2. [PCI-DSS] _PAYMENT CARD INDUSTRY - DATA SECURITY STANDARD_
* Communicating __RESULTS__ - summarizes to _stakeholders_

<br/>

__Factors:__ <br/>

* Type of industry
* Size of organization
* Goverment regulations links
* Geographic Location of the business
* Comercial Decision


__AUDIT__ <br/>

- Check scope
- Choose controls
- Rate controls
- Choose norms and standards
- Explain scope, goals, findings


__LINUX__

> Is a widely used Open Source System that allows you to adapt it to your needs
> through a command line interface.


__SURICATA__

> Open Source Network Analysis and Threat Detection Software, used to analyze
> network traffic, identify suspicious behaviors and generate logs helping to
> uncover potential threats, risk or vulnerabilities.


__SPLUNK__

> Allow reviewing organization data through dashboards. This helps security
> professionals manage the internal infrastructure by collecting, searching,
> monitoring and analyzing log data from multiple sources, allowing them to
> observe the entirety of an organization's daily operations. 


__CHRONICLE__

> Native SIEM Tool in the Google Cloud that keep, analyze and search log data
> to identify potencial threats, risks and security vulnerabilities.


__Playbook__

> A manual that provides details about any operational action.


__Incident Response__

> An organization's quick attempt to identify an attack, contain the damage
> and correct the effects of security breach.


### INCIDENT RESPONSE PLAYBOOK PHASES

* __PREPARATION__

1. Mitigate potential impact
2. Documenting procedures
3. Establishing staffing plans
4. Educating users
5. Sets the Foundation for successful incident response

<br/>

* __DETECTION AND ANALYSIS__

1. Uses defined processes and technology [tools]
2. Determine whether a breach has occurred

<br/>

* __CONTAINMENT__

1. Prevent further or major damage
2. Reduce immediate impact
3. Security proffesionals TAKE ACTION

<br/>

* __ERADICATION AND RECOVERY__

1. Complete removal of artifacts
2. Return to normal operations
3. Restoration

<br/>

* __POST INCIDENT ACTIVITY__

1. Documenting the incident
2. Inform to organization leadership
3. Apply lessons learned for future incidents

<br/>

* __COORDINATION__

1. Sharing information
2. In agreement to Standards

__Playbooks are living documents__

> We could modify a manual when: 

* A flaw is detected
* Standards changed
* Security outlook improves



## [3] Connect and Protect: Networks and Network Security üîêüîêüîêüîêüîêüîêüîê

__NETWORK__

> A group of connected devices.


__Local Area Network__ [LAN]

> A network that spans a small area like an office building,
> a school or a home.


__HUB__

> A network device that broadcast information to every device on the network.


__Switch__

> A device that makes connections between specific devices on a network
> by sending and receiving data between them. Keeps MAC addresses.


__Router__

> A network device that connects multiple network together.
> Can block traffic as a Firewall.


__Modem__

> A device that connects your router to the internet 
> and brings internet access to the LAN


__Virtualization Tools__

> Pieces of software thet perform network operations.


__Firewall__

> A Security Device that monitor the traffic of a Network.


__Server__

> Provide a service in a Network.


__Cloud Computing__

> The practice of using remote servers, applications and network services
> that are hosted on the internet instead of on local physical devices.


__Cloud Network__

> A collection of servers or computers that stores resources and data
> in remote data centers that can be accessed via internet.


> A Cloud Service Providers offer [CSP]: 

- On-demand storage
- Processing power
- Analytics

* __SaaS__ - Software as a Service
* __IaaS__ - Infraestructure as a Service
* __PaaS__ - Plattform as a Service


__DATA PACKET__

A basic unit of information that travels from one device to another within a network. <br/>

> _Header_ - IP address / MAC address / Protocol Number
> _Body_ - The Message
> _Footer_ - Signals to the receiving device that the packet is finished


__Bandwidth__

> The amount of data a device receives every second.


__Speed__

> The rate at which data packets are received or downloaded. Bits/s


__Packet Sniffing__

> The Practice of capturing and inspecting data packets across a network.


__Internet Protocol__ [IP]

> A set of standards used for routing and addressing data packets
> as they travel between devices on a network.


__IP address__

> A unique string of characters that identifies the location of device on internet.
> There are 2 versions: _IPv4_ and _IPv6_


__MAC address__

> A unique alphanumeric identifier that is assigned to each 
> physical device on a network.


__PORT__

> A software-based location that organizes the sending and receiving
> of data between devices on a network.
> Divides traffic into segments.

- __[25]__ Email
- __[443]__ Secure internet communication
- __[20]__ Large File Transfers


__TCP/IP Model__

> A Framework used to visualize how data is organized
> and transmitted across the Network.


### PROTOCOLS

> Rules to describe the delivery order.


#### Communitacion

__Transmission Control Protocol [TCP]__

> An internet communication protocol that allows two devices to form
> a connection and stream data.
> Uses the _Handshake_ - SYN - SYN/ACK - ACK


__User Datagram Protocol [UDP]__

> No connection link between devices. _Transport Layer_ Protocol


__Hyper Text Transfer Protocol__ [HTTP]

> _Application Layer_ Protocol the brings a method of communication
> between Clients and Server. Uses the _80_ port.


__Domain Name System [DNS]__

> A network protocol that translates internet domain names into IP addresses.


__Address Resolution Protocol [ARP]__

> Is on _Internet_ Layer. 
> To translate a IP address from data packets into a MAC address.



#### Management

__Simple Network Management Protocol [SNMP]__

> Used to monitor and manage devices. 
> Can restore a password or change basic configuration.
> Also can ask requests to get information about used bandwith.
> Is on _Application_ Layer.


__Internet Control Messages Protocol [ICMP]__

> Used to get information about transmission errors between devices.
> Also is a fast solution to connectivity issues like latency
> by using the _ping_ command.
> Is on _Internet_ Layer.


__Post Office Protocol [POP]__

> _Application_ Layer to manage emails
> Ports _110_ (not encrypted) and _995_.


__Internet Messages Access Protocol [IMAP]__

> Downloads the headers and uses _143_ (not encrypted) and _993_ for TSL.


__Simple Mail Transfer Protocol [SMTP]__

> Routes and transmites emails and works with 
> the software Message Transfer Agent [MTA]
> Uses the _25_ (not encrypted) and _587_ for TSL.


#### Security

__Hyper-Text Transmission Protocol - Secure [HTTPS]__

> Secure method of communication between server and client.
> Uses Secure Sockets Layer __[SSL]__ and Transport Layer Security __[TSL]__
> Uses port _443_ and is on _Application_ Layer.


__Secure File Transfer Protocol [SFTP]__

> Uses the __[SSH]__ Secure SHELL Protocol and 
> __[AES]__ Advanced Encryption Standard.
> Is on _Application_ Layer. Port _22_ 


* IEE 802.11 Starndards for Wireless

1. __[WEP]__ Wired Equivalent Privacy - _1999_
2. __[WPA]__ WiFi Protected Access - _2003_
  - Uses Temporal Key Integrity Protocol __[TKIP]__
3. __[WPA3]__ Uses Simultaneous Authentication of Equals __[SAE]__


### FIREWALLS

> There are _HARDWARE_ and _SOFTWARE_ firewalls.


__STATEFUL__ [+]

> A class of Firewall that keeps track of information
> passing through it and proactively filters out threats.


__STATELESS__ [-]

> A class of Firewall that operates _BASED ON PREDEFINED RULES_
> and does not keep track of information from data packets.


__NEXT GENERATION FIREWALL__ [NGFW]

- _DEEP_ packet _INSPECTION_
- Intrusion protection
- Threat intelligence


__Port Filtering__

> Is a a firewall function that block or allows certain
> port numbers to limit unwanted communication


### VPN (Virtual Private Networks)

> Is a Network Security Service that changes your public IP address
> and hides your virtual location (_uses encapsulation_)
> so that you can keep your data private when you are
> using a public network like the internet.


__Encapsulation__

> A proccess performed by a VPN service that protects your data
> by wrapping sensitive data in other data packets.


__Security Zone__

> A segment of a network that protects the internal network from internet.


__Proxy Server__

> A Server that fulfills the requests of a client by forwarding them
> on to other servers.


__Forward Proxy Server__

> Regulates and restricts a _person's_ access to the internet.


__Reverse proxy server__

> Regulates and restrict the _internet's_ access to an internal server.

---

* __No controlled zone__ 

> Part of the network out of the organization.

* __Controlled zone__ 

> Subnet that protect the internal network from external.

* __Demilitarized or Security zone__ 

> Network that protects internal network from internet.
> Like Web Servers, DNS, Email and File Servers, etc. 

* __Internal network__

> Private servers and data to protect.
  
* __Restricted Zone__

> Highly confidential information only accessible to employees with privileges. 



### ATTACKS

__Network intrusion attacks__ 

* Malware
* Spoofing
* Packet sniffing
* Packet flooding


__Organization can be harmed by__

* Leaking information
* Damaging reputation
* Customer retention 
* Money and Time cost


__Denial of Service Attack [DoS]__

> An attack that targets a network or server and _floods it_ 
> with network traffic to disrupt the normal business operation 
> by overloading the organization's network.


__Distribuited denial of service attack [DDoS]__

> A type of denial of service attack that uses _multiple devices_ or servers 
> in _different locations_ to flood the target network with unwanted traffic.


__SYN flood attack__

> A type of DoS attack that simulates a TCP connection
> and floods a server with SYN packets.


__Internet Control Message Protocol [ICMP]__

> An internet protocol used by devices to tell each other about
> data transmission error across the network.


__ICMP flood__

> A type of DoS attack performed by an attacker
> repeatedly sending ICMP packets to a network server.


__Ping of Death__

> A type of DoS attack caused when hacker pings a system by sending it
> an oversized ICMP packet that is bigger than 64Kb.


__tcpdump__

> Command Line Network Protocol Analyzer.
> Brings a brief packet analysis, converts key information about network traffic.
> Shows the source and destiny IP address and also the ports used in communications.


__Passive packet sniffing__

> A type of attack where data packets are read in transit.


__Active packet sniffing__

> A type of attack where data packets are manipulated in transit.


__IP Spoofing__

> A network attack performed when an attacker changes the source IP
> of a data packet to impersonate an authorized system and gain
> access to a network.


__On-path attack__

> An attack where a malicious actor places themselves in the middle of an
> authorized connection (IP spoofing) and intercepts or alters the data transit.


__Replay attack__

> A network attack performed when a malicious actor intercepts a data packet
> in transit and delays it or repeats it at another time. Use IP spoofing.


__Smurf attack__

> A network attack performed when an attacker sniffs
> an authorized user's IP and floods it with packets.



### SECURITY HARDENING

> The process of strengthening a system to reduce its vulnerabillity
> and attack surface on Hardware, OS, Applications, DB and Networks.


__Attack surface__

> All the potential vulnerabillities that a threat actor could exploit.


__Operating System__

> The interface between computer hardware and the user/software.


__Patch Update__

> A software and operating system update that addresses
> security vulnerabilities within a program or product. 


__Multi-factor authentication [MFA]__

> A security measure which requires a user to verify their identity
> in two or more ways to access a system or network. 

* Something you know
* Something you have
* Something unique about you


__Brute force attack__

> A Trial and Error process to discover private information and could be:

* Simple - Trying any combination.
* Dictionary - Using a list.


__Virtual Machines [VM]__

> Physical computers in software versions. Give us an additional layer of security.
> Can be very helpful to test.


__Sandboxes__

> A test area to exec software out of our network, 
> try patches, suspicious software (or files), 
> identify errors, detect vulnerabilities 
> and simulate scenarios of an attack. 


__Hashing__ 

> Uniderectional function that converts information 
> in an unique value to determine its integrity.


__Salting__

> Adds random characters to Hash passwords, 
> increasing length and complexity of values, 
> making them more secure.


__Multifactor Authentication [MFA]__

> Security measure that ask a user for 2 or more ways of authentication.
> __[2FA]__ Two Factor Authentications have only 2 ways of verification.


__Completely Automated Public Turing Computers and Humans Apart [CAPTCHA]__

> Is a challenge-response authentication by a simple test, 
> preventing a password to be forced.
> reCAPTCHA is a Google Service.


__Password Policies__

> Good practices in patterns of complexity, 
> frequency in updates and login attempts 
> before the account is suspended.


__PORT Filtering__

> Allow access to most used ports for normal operations of a network.
> Block any port that is not used.


__TRAFFIC LOG__

* Flag[S] - Connection Start
* Flag[F] - Connection Finish
* Flag[P] - Data Push
* Flag[R] - Connection Reset


__Network Security Hardening__

* Port filtering
* Network access privileges
* Encryption

- Tasks performed: <br/>

* Firewall rules maintenance
* Network log analysis
* Patch updates
* Server backups


__Intrusion Detection System [IDS]__

> Monitor the activity of a system and _alerts_ about intrusions.
> Based on malicious traffic signatures and known attacks.
> Do not stop the traffic and is before a FIREWALL.


__Intrusion Prevent System [IPS]__

> Monitor the activity of a system and take action or _stops_ traffic.
> Can be false positives, and break the legitemate traffic.


__Security Information and Event Management__ [SIEM]

> A tool that gathers and analyzes logs from IDS, IPS, Firewalls, VPN, proxies
> and DNS in real time.


__Cloud Network__

> A collection of servers or computers that stores resources and data 
> in remote data centers that can be accessed via internet.

__[poke and prod!]__ - "Picarle"
<br/>

__Identity Access Management__

> A set of processes and technologies that help manage digital identities
> and authorize the access to resources in the cloud.


__Day-0 Attacks__

> Is an exploit that is unknown. The CSP can patch their hypervisors and migrate
> loads of jobs to another VMs.


## [4] Tools of the Trade: Linux and SQL üîêüîêüîêüîêüîêüîêüîê


### LINUX


__Basic Input Output System [BIOS]__

> A microchip used in old computers to load basic instructions to start the PC.


__Unified Extensible Firmware Interface [UEFI]__

> A microchip that holds load instructions in moderns computers, replacing BIOS.
> Provide enhanced security functions


__Bootloader__

> Is the last instruction that starts the Operative System.

User - Application - Operative System - Hardware <br/>


__User Interface__

> A program that allows the user to control the functions 
> of the Operating System.


__Graphical User Interface [GUI]__

> A user interface that uses icons on the screen
> to manage different tasks on the computer.

May include: <br/>

* Start Menu
* Task Bar
* Desktop with icons and shortcuts


__Command-Line Interface [CLI]__

> A text-based user interface that uses commands
> to interact with computer.


__User__

> People that interact with computer. Starts and manage jobs.


__Applications__

> A program designed to do a specific job.


__Shell__

> Command interpreter based on text.


__File Hierarchy System [FHS]__

> A part of the Linux System that organizes data and specifies the location
> where data are stored. 


__Kernel__

> Component of the Linux OS that manage the processes and memory.
> It communicates with applications to lead commands.
> Controls main functions of Hardware.


__Hardware__

> Physical components in a computer. Internal as a hard disk or peripherial.


_Peripherial_ 

> Not essential components that may be plugged easily. 


_Internal_

* __CPU__ - Main component where all the jobs are made.
* __RAM__ - Short-term memory.
* __Hard Disk__ - Long-term memory.


__Penetration test__

> A simulated attack that helps identify vulnerabilities in systems, 
> networks, websites, applications and processes.


__Digital forensics__ 

> The practice of collecting and analyzing data to determine
> what has happened after an attack.

* tcpdump
* Wireshark
* Autopsy


__Shell__

> The command-line interpreter.


__Command__

> An instruction telling the computer to do something.


__Standard input__

> Information received by the OS via the command line.


__String data__ 

> Data consisting of an ordered sequence of characters.


__Standard output__ 

> Information returned by the OS through the shell.


__Standard error__

> Error messages returned by the OS through the shell.

<br/>
Commands: <br/>

* __cat__   Displays the content of a file
* __cd__    Navigates between directories
* __pwd__   Prints the working directory onto the screen
* __ls__    Displays the names of files and directories 
            in the current working directory 
* __head__  Show first 10 lines 
* __tail__  Show last 10 lines 
* __less__  A page at a time of a file 
            space - next page 
            b - previous page 
            Down arrow - advance a line 
            Up arrow - back a line 
            q - exit 

---

* [grep]    Searches a specified file and returns all lines <br/>
            in the file containing a specified string <br/>
* [Pipping] Sends the _standard output_ of one command as _standard input_ to another<br/>
            command for further processing, using the pipe (|)character. <br/>
* [find]    used to search directories and files that meet specified criteria <br/>
            -name -  distinguishes names in upper / lowercase <br/>
            -iname - no matter upper / lowercase <br/>
            -mtime - -3 (_Days ago_) <br/>

---------------------------------------------------------------- <br/>

* [mkdir] Create a new directory <br/>

* [rmdir] Remove a directory <br/>

* [touch] Creates a new file <br/>

* [rm]    Removes or delete a file <br/>

* [mv]    Moves a file or directory to a new location <br/>

* [cp]    Copy a file or directory into a new location <br/>

__Nano__ text Editor for beginners <br/>

[ctrl+o] - save
[ctrl+x] - exit


__Permissions__ <br/>

The type of access granted for a file or directory. <br/>
Are represented for 10 characters: <br/>

drwxrwxrwx <br/>

[d]   Indicates if is a directory, instead [-] indicates that is a file. <br/>
[rwx] The first 3 group of rwx indicates the _user_ type permissions. <br/>
[rwx] The second 3 group of rwx indicates the _group_ type permissions. <br/>
[rwx] The third 3 group of rwx indicates the _other_ type permissions. <br/>


__Types of permission__<br/>

[read]    Contents on the file can be read. Represented by [r] <br/>
[write]   Allows modifications of contents of the file. Represented by [w] <br/>
[execute] Execute a file or access files in a directory. Represented by [x] <br/>


__Types of owners__ <br/>

[user]  The owner of a file. Represented by [u]<br/>
[group] Multi-user environment. Represented by [g] <br/>
[other] Anyone else. Represented by [o] <br/>


__Listing files__ <br/>

* ls -l - Displays permissions to files and directories. <br/>
* ls -a - Displays hidden files. <br/>

- Hidden files starts with "." <br/>

__chmod__ <br/>

It changes permission on files and directories. <br/>

[+] Add a permission. <br/>
[-] Take permission away. <br/>
[=] Assign permissions to user, groups or other. <br/>


```bash
chmod u+rwx,g-x login_sessions.txt
chmod u=r,g=w login_sessions.txt
```

__Root user (superuser)__ <br/>

A user with elevated provileges to modify the system. <br/> 

The problems with loggin in as a root are: <br/>

* Security risks <br/>
* Irreversible mistakes <br/>


__sudo__ <br/>

Temporarily grants elevated permissions to specific users. <br/>


__useradd__ <br/>

Adds a user to the system. <br/>


__userdel__ <br/>

Deletes a user from the system. <br/>


__usermod__ <br/>

Modify user account. <br/>
[-g] Set main group. <br/>
[-G] Set additional group. <br/>
[-l] Changes user name. <br/>
[-L] Blocks a user account. <br/>
[-d] Changes directory. <br/>


__groupdel__ <br/>

Deletes a group. <br/>

_Remember:_ <br/>

> When we creates a new user, a new group of the same name is created. 


__man__ <br/>

> Displays information on other commands and how they work. 


__whatis__ <br/>

> Displays a description of a command on a single line. 


__apropos__ <br/>

> Searches the manual page descriptions for a specified string. 
> [-a] -> Will return only the commands that contain both strings. 



### SQL


__Primary Key__ <br/>

A column where every row has a unique entry. Can only be one primary key. <br/>


__Foreign Key__ <br/>

A column in a table that is a primary key in another table. <br/>


[SQL] __Structured Query Language__ <br/>

A programming language used to create, interact with and request information from a database. <br/>


__Query__ <br/>

A request for data from a database table or a combination of tables. <br/>


__Log__ <br/>

A record of events that occur within an organization's systems. <br/>


__SELECT__ <br/>

Indicates which columns to return. <br/>


__FROM__ <br/>

Indicates which table to query. <br/>


__Syntax__ <br/>

The rules that determine what is correctly structured <br/>
in a computing language. <br/>


__ORDER BY__ <br/>

Order the records returned by a query in sequence, <br/>
and specify the column on which to base. <br/>


__Filtering__ <br/>

Selecting data that match a certain condition. <br/>


__WHERE__ <br/>

Indicates the condition for a filter. <br/>


__LIKE__ <br/>

Used with WHERE to search for a pattern in a column. <br/>


__BETWEEN__ <br/>

An operator that filters for numbers or dates within a range. <br/>


__AND__ <br/>

Specifies that both conditions must be met simultaneously. <br/>


__OR__ <br/>

Specifies that either condition can be met. <br/>


__NOT__ <br/>

__Negates a condition__ <br/>

> where NOT price = 100 
> where price <> 100
> where price != 100


__NULL__ <br/>

> Represents a missing value due to any reason.


__LEFT JOIN__ <br/>

> Returns all of the records of the first table, but only returns rows
> of the second table that match on a specified column.


__RIGHT JOIN__ <br/>

> Returns all of the records of the second table, but only returns rows 
> from the first table that match on a specified column. 


__FULL OUTER JOIN__ <br/>

> Returns all records from both tables. 





## [5] Assets, Threats and Vulnerabilities üîêüîêüîêüîêüîêüîêüîê


__RISK__ <br/>

> Anything that can impact the confidentiality, integrity,
> or availability of an asset. 


__Security Risk Planning__ <br/>

> _Assets_ - An item perceived as having value to an organization. 
> _Threats_ - Any circumstance or event that can negatively impact assets. 
> _Vulnerabilities_ - A weakness that can be exploited by a threat. 


__Asset management__ <br/>

> The process of tracking assets and risks that affect them.


__Asset inventory__ <br/>

> A catalog of assets that need to be protected. 


__Asset classification__ <br/>

> The practice of labeling assets based on sensitivity
> and importance to an organization.

* _Public_ - Shared with anyone 
* _Internal-only_ - Shared with anyone inside organization
* _Confidential_ - Accessed by those working on a specific project
* _Restricted_ -> Highly sensitive and must be protected


__Data__ <br/>

Information that is translated, processed or stored by a computer <br/>


__Satates of data__ <br/>

_In use_ -> Data being accessed by one or more users <br/>
_In transit_ -> Data traveling from one point to another <br/>
_At rest_ -> Data not currently being accessed <br/>


__Information Security__ [infoSec]<br/>

The practice of keeping data in all states away <br/>
from unauthorized users <br/>

__Software as a Service__ [SaaS]<br/>

Front-end applications, as Gmail, Slack or Zoom <br/>

__Platform as a Service__ [PaaS]<br/>

Development Tools to code as Google App Engine, Heroku and VMWare CloudFoundry <br/>

__Infrastructure as a Service__ [IaaS]<br/>

Servers for data process as Google Cloud or Azure<br/>


__Types of risk categories__ <br/>

_Damage_ <br/>
_Disclosure_ <br/>
_Loss of information_ <br/>


__Elements of a security plan__ <br/>

_Policies_ <br/>
->Set of rules that reduces risk and protects information <br/>
_Standards_ <br/>
->References that inform how to set policies <br/>
_Procedures_ <br/>
->Step by step instructions to perform a specific security task <br/>


__Compliance__ <br/>

The process of adhering to internal standards and external regulations <br/>


__Regulations__ <br/>

Rules set by a government or other authority to control the way <br/>
something is done in a large scale <br/>



__NIST Cybersecurity Framework__ <br/>

A voluntary framework that consists of standards, guidelines and <br/>
best practices to manage cybersecurity risk <br/>


__Functions of the NIST CSF Core__ <br/>

[Identify]<br/>
[Protect]<br/>
[Detect]<br/>
[Respond]<br/>
[Recover]<br/>


__Security Controls__ <br/>

Safeguards designed to reduce specific security risks <br/>


__Information Privacy__ <br/>

The protection of un authorized access and istribution of data <br/>


__Data owner__ <br/>

The person that decides who can access, edit, use or destroy <br/>
their information <br/>


__Data custodian__ <br/>

Anyone or anything that's responsible <br/>


__Type of accounts__ <br/>

[invited]<br/>
[user]<br/>
[service]<br/>
[privileged]<br/>


__Type of Audits__ <br/>

[use]<br/>
[privileges]<br/>
[accounts]<br/>

__Privacy vs Security__ <br/>

[privacy] protect against unauthorized access and dissemination of data (CONTROL)<br/>
[security] keep away data from unauthorized users (SAVE)<br/>


__Audit vs Evaluation__ <br/>

[audit] checks controls, policies and procedures<br/>
[evaluation] test security measures against threats<br/>


__Personally Identifiable Information__ [PII] <br/>

Any information that can be used to infer an individual's identity <br/>


__Cryptography__ <br/>

The process of transforming information into a form <br/>
that unintended readers can't understand <br/>


__Algorithm__ <br/>

A set of rules used that solve a problem <br/>


__Cipher__ <br/>

An algorithm that encrypts information <br/>


__Cryptographic key__ <br/>

A mechanism that decrypts ciphertext <br/>


__Brute Force Attack__ <br/>

A trial and error process of discovering private information <br/>


__Public Key Infrastructure__ [PKI]<br/>

> An encryption framework that secures the exchange of information online


__Asymmetric Encryption__ <br/>

> The use of a public and private key pair for encryption 
> and data decryption of data 
> [RSA],[DSA]


__Symmetric Encryption__ <br/>

> The use of a single secret key to exchange information
> [3DES],[AES]

__Both Encryptions rely on sharing keys that can be misused, lost or stolen__ <br/>


__Digital certificate__ <br/>

> A file that verifies the identity of a public key holder


------------------------ [Lab] ------------------------------- <br/>


Lq rughu wr uhfryhu brxu ilohv brx zloo qhhg wr hqwhu wkh iroorzlqj frppdqg: <br/>

rshqvvo dhv-256-fef -sengi2 -d -g -lq T1.hqfubswhg -rxw T1.uhfryhuhg -n hwwxeuxwh <br/>


```bash
cat .leftShift3 | tr "d-za-cD-ZA-C" "a-zA-Z"
```

_Note:_ <br/>
The __tr__ command translates text from one set of characters to another, <br/>
using a mapping. <br/>
The first parameter to the __tr__ command represents the input <br/>
set of characters, <br/>
and the second represents the output set of characters. <br/> 
Hence, if you provide parameters ‚Äúabcd‚Äù and ‚Äúpqrs‚Äù, <br/>
and the input string to the __tr__ command <br/>
is ‚Äúac‚Äù, the output string will be ‚Äúpr". <br/>


```bash
openssl aes-256-cbc -pbkdf2 -a -d -in Q1.encrypted -out Q1.recovered -k ettubrute
```

Although you don't need to memorize this command, <br/>
to help you better understand the syntax used, let's break it down.<br/>

In this instance, the openssl command reverses the encryption 
of the file with a secure symmetric cipher, <br/>
as indicated by AES-256-CBC. <br/>
The -pbkdf2 option is used to add extra security to the key, <br/>
and -a indicates the desired encoding for the output. <br/>
The -d indicates decrypting, while -in specifies the input file <br/>
and -out specifies the output file. <br/>
The -k specifies the password, which in this example is ettubrute. <br/>


__Hash Function__ <br/>

An algorithm that produces a code that _CAN'T BE DECRYPTED_. <br/>


```bash
sha256sum newfile.txt
```
> [SHA] Secure Hash Algorithm (SHA-1, SHA-224, SHA-256, SHA-384, SHA-512)

__Non Repudiation__ <br/>

>The concept that the authenticity of information can't be denied. 


__Rainbow Tables__ <br/>

> Is a file with weak passwords and their hashes. 


__Salting__ <br/>

> Additional protection to strengthen hash functions. 
> Is a random chain of characters added BEFORE hashing. 


__Comparing__ <br/>

```bash
sha256sum file1 >> hashed1
sha256sum file2 >> hashed2
cmp hashed1 hashed2
```

__Access controls__ <br/>

> Security controls that manage access, authorization, and 
> accountability of information. 


__AAA Framework__ <br/>

* Authentication 
* Authorization 
* Accounting 


__Factors of AUTHENTICATION__ <br/>

[Knowledge] Something that the user knows <br/>
[Ownership] Something that the user possesses <br/>
[Characteristic] Something the user is <br/>


[SSO] __Simple Sign On__ <br/>

[MFA] __Multi-Factor Authentication__ <br/>

> A security measure which requires a user to verify their identity 
> in two or more ways to access a system or network. 


__Mechanisms of AUTHORIZATION__ <br/>


_Separation of duties_ <br/>

The principle that users should not be given levels of authorization <br/>
that would allow them to misuse a system <br/>


_Basic auth_ <br/>

The technology used to establish a user's request to access a server <br/>


_OAuth_ <br/>

An open-standard authorization protocol that shares designated <br/>
access between applications. <br/>
Uses API tokens to verify access between you and a service provider. <br/>


_API Token_ <br/>

A small block of encrypted code that contains information about a user, <br/>
like permissions or user identity. <br/>


_Session_ <br/>

A sequence of network HTTP basic auth requests and responses associated <br/>
with the same user. <br/>


_Session ID_ <br/>

A unique token that identifies a user and their device while accessing the system <br/>


_Session cookie_ <br/>

A token that websites use to validate a session and determine <br/>
how long that session should last <br/>


_Session hijacking_ <br/>

An event when attackers obtain a legitimate user's session ID <br/>


[IAM] _Identity Access Management_ <br/>

[MAC] _Mandatory Access Control_ <br/>

[DAC] _Discretionary Access Control_ <br/>

[RBAC] _Role-Based Access Control_ <br/>



_Vulnerability_ <br/>

A weakness that can be exploited by a threat. <br/>


_Exploit_ <br/>

A way of taking advantage of a vulnerability. <br/>


_Vulnerability MANAGEMENT_ <br/>

The process of finding and patching vulnerabilities. <br/>

* Identify vulnerabilities <br/>
* Consider potential exploits <br/>
* Prepare defenses against threats <br/>
* Evaluate those defenses <br/>


_Zero-day_ <br/>

An exploit that was previously unknown <br/>


_Defense in depth strategy_ -> LAYERS<br/>

* Perimeter Layer - from external access, like passwords <br/>
* Network Layer - authorization by firewalls <br/>
* Endpoint Layer - devices protected by AV <br/>
* Application Layer - Part of an application, as MFA <br/>
* Data Layer - CRITICAL INFORMATION that must be protected <br/>


_Exposure_ <br/>

A mistake that can be exploited by a threat <br/>


[CVE] List - _Common Vulnerabilities and Exposures List_._ <br/>

An openly accessible dictionary of known vulnerabilities and exposures <br/>


[MITRE] A collection of non-profit research and development centers <br/>


[CNA] _CVE Numbering Authority_ <br/>

An organization that volunteers to analyze and distribute information on eligible CVE.


_CVE list criteria_ <br/>

1. Independent of other issues <br/>
2. Recognized as a potential security risk <br/>
3. Submitted with supporting evidence <br/>
4. Only affect one codebase <br/>


[CVSS] Common Vulnerability Scoring System <br/>

A measurement system that scores the severity of a vulnerability <br/>


[OWASP] _Open Web Application Security Project_ <br/>

A non-profit foundation to improve software security. <br/>
Is a plattform for professionals to share information. <br/>

* Loss of Control Access <br/>
* Cryptographic Failures <br/>
* Injection <br/>
* Unsafe Design <br/>
* Incorrect Security Configuration <br/>
* Outdated and Vulnerable Components <br/>
* Identity and Authentication Failures <br/>
* Software Failures and Data Integrity <br/>
* Monitoring and Logs Failures <br/>
* Server-side requests spoofing <br/>


_Vulnerability Assessment_ <br/>

The internal review process of an organization's security systems <br/>

1. Identification <br/>
2. Vulnerability Analysis <br/>
3. Risk Assessment <br/>
4. Remediation <br/>


[EOL] - End Of Life

Software outdate - Not recommended to install <br/>


_Attack Surface_ <br/>

All the potential vulnerabilities that a threat actor could exploit <br/>


_Attack Vectors_ <br/>

The pathways attackers use to penetrate security defenses. <br/>


_Security hardening_ <br/>

The process of strengthening a system to reduce its vulnerabilities and attack surface <br/>


[APT] _Advanced Persistent Threat_ <br/>

Actors keeping access to a system for a long time <br/>


_Access Points_ <br/>

Are Attack Vectors that a threat agent will use, like: <br/>

* Direct Access - Physical <br/>
* Extraible Media - USB or portable devices <br/>
* Social Media - Content interchange <br/>
* Email - Personal and commercial <br/>
* Wireless Networks - On buildings <br/>
* Cloud services <br/>
* Supply Chains - Providers <br/>


_Defending Attack Vectors_ <br/>

1. Educating users <br/>
2. Applying the principle of least privilege <br/>
3. Using the right security controls and tools <br/>
4. Building a diverse security team <br/>


_Brute Force Tools_ <br/>

* Aircrack-ng <br/>
* Hashcat <br/>
* John The Ripper <br/>
* Ophcrack <br/>
* THC Hydra <br/>


_Brute Force Prevention Measures_ <br/>

* Hashing and Salting <br/>
* MFA <br/>
* CAPTCHA <br/>
* Password Policies <br/>


_Threat_ <br/>

Any circumstance or event that can negatively impact assets <br/>


_Social Engineering_ <br/>

A manipulation technique that exploits human error to gain <br/>
private information, access or valuables. <br/>


_Stages of Social Engineering_ <br/>

1. Prepare <br/>
2. Establish trust <br/>
3. Use persuasion tactics <br/>
4. Disconnect from the target <br/>


_Preventing Social Engineering_ <br/>

* Implementing managerial controls <br/>
* Staying informed of trends <br/>
* Sharing your knowledge with others <br/>


_Types of Social Engineering_ <br/>

* Baiting <br/>
* Phishing <br/>
* Quid pro quo <br/>
* Tailgating / Piggybacking <br/>
* Watering Hole <br/>


_Phishing_ <br/>

The use of digital communications to trick people <br/>
into revealing sensitive data or deploying malicious software <br/>

_Phishing Kit_ <br/>

A collection of software tools needed to launch a phishing campaign <br/>

* Malicious attachments <br/>
* Fake data-collection form <br/>
* Fraudulent web links <br/>


_Smishing_ <br/>

The use of text messages to obtain sensitive information <br/>
or to impersonate a known source <br/>


_Vishing_ <br/>

The exploitation of electronic voice communication <br/>
to obtain sensitive information or impersonate a known source <br/>


_Malware_ <br/>

Software designed to harm devices or networks <br/>
Virus, Worm, Trojan, Ransomware and Spyware <br/>


_Virus_ <br/>

Malicious code written to interfere with computer operations <br/>
and cause damage to data and software <br/>


_Worm_ <br/>

Malware that can duplicate and spread itself across <br/>
systems on its own <br/>


_Trojan_ <br/>

Malware that looks like a legitimate file or program <br/>


_Ransomware_ <br/>

Type of malicious attack where attackers encrypt <br/>
an organization's data and demand payment to restore access <br/>


_Spyware_ <br/>

Malware that's used to gather and sell information without consent <br/>


_Adware_ <br/>

Used to display digital advertising in applications <br/>


_Rootkit_ <br/>

Provides remote access to a computer. Used to open a backdoor to install <br/>
other software or network security attacks. <br/>


_Botnet_ <br/>

A set of infected computers under control of a "herder" to do jobs <br/>


_Cryptojacking_ <br/>

Installs software to illegally mine cryptocurrencies <br/>

Signs: <br/>

* Slowdown <br/>
* Increased CP usage <br/>
* Sudden system crashes <br/>
* Fast draining batteries <br/>
* Unusually high electricity costs <br/>


_Web-based exploits_ <br/>

Malicious code or behavior that's used to take advantage <br/>
of coding flaws in a web application <br/>


_Input sanitization_ <br/>

Programming that validates inputs from users and other programs <br/>


__Cross-site scripting__ [XSS] <br/>

An injection attack that inserts code into a vulnerable website <br/>
or web application using [HTML] and [Javascript] <br/>
Can give access to session cookies, geolocation, webcams or microphones <br/>

There are 3 types: <br/>

1. _REFLECTED:_ <br/>
An instance when malicious script is sent to a server and activated <br/>
during the server's response <br/>

2. _STORED:_ <br/>
An instance when malicious script is injected directly on the server <br/>

3. _DOM-Based:_ <br/>
An instance when malicious script exists in the webpage a browser loads <br/>


_Prepared sentences_ <br/>

We can use them to protect our code from XSS, creating sentences <br/>
executed before passing to a Database <br/>


_Threat Modeling_ <br/>

The process of identifying assets, their vulnerabillities and <br/>
how each is exposed to threats <br/>

1. Define the scope  - INVENTORY OF ASSETS AND CLASSIFICATION <br/>
2. Identify threats - POTENTIAL THREAT ACTORS <br/>
3. Characterize the environment - APPLY ATTACKER MINDSET <br/>
4. Analyze threats - EXISTING PROTECTIONS AND GAPS <br/>
5. Mitigate Risks - PLAN TO AVOID, TRANSFER, REDUCE OR ACCEPT RISK <br/>
6. Evaluate Findings - DOCUMENT SUCCESS OR LESSONS LEARNED <br/>

_Attack Tree_ <br/>

A Diagram that maps a threats to assets <br/>


[PASTA] Framework <br/>
__Process for Attack Simulation and Threat Analysis__ <br/>

1. Define objectives - HOW INFORMATION IS HANDLED, WHAT WE WANT <br/>
2. Define the technical scope - IDENTIFY COMPONENTS AND INTERACTIONS <br/>
3. Decompose the application - FLOW DIAGRAM OF EXISTING CONTROLS <br/>
4. Perform a threat analysis - GATHER INFORMATION, ATTACKER MINDSET <br/>
5. Perform a vulnerability analysis - DEEP INVESTIGATION TO ROOT THE PROBLEM <br/>
6. Conduct Attack Modeling - SIMULATING ATTACK by Attack Tree <br/>
7. Analyze risk and impact - ASSEMBLES ALL INFORMATION COLLECTED <br/>

[STRIDE] - By Microsoft <br/>
[Trike] - Open Source Tool <br/>
[VAST] Visual Agile Simple Threat - Part of ThreatModeler Platform <br/>



## [6] Sound the Alarm: Detection and Response üîêüîêüîêüîêüîêüîêüîê


### NIST Incident Response LifeCycle

1. Preparation
2. Detection and Analysis
3. Containment, Eradication and Recovery
4. Post-Incident Activity

__Incident__

> An occurence that actually or imminently _jeopardizes_
> without lawful authority the confidentiality, integrity,
> or availability of information or an information system;
> or constitutes a violation or imminent threat of violation
> of law, security policies, security procedures or
> acceptable use policies.

__Event__

> An observable occurence on a network, system or device

__ALL SECURITY INCIDENTS ARE EVENTS__ <br/>
_Not All events are Security Incidents_ <br/>


__The 5W's of an incident__

1. Who triggered the incident
2. What happened
3. When the incident took place
4. Where the incident took place
5. Why the incident occurred


__Incident Handler's Journal__

> A form of documentation used in incident response

* Write the incident date
* Description
* Use 5W's
* Observations and questions


__Computer Security Incident Response Teams__ (_CSIRT_)

> A specialized group of security professionals that are trained
> in incident management and response

1. Manage incidents
2. Provide services and resources for response and recovery
3. Prevent future incidents from occurring

* Is a shared responsability
* Must share information between departments

__Roles of CSIRT__

* _Security Analyst_ - Investigate Security ALERTS and Rate them
* _Technical lead_ - Guide Security Incidents in their lifecycle
* _Incident Coordinator_ Tracks / Manages activities of involved Teams


__Security Operations Center__ _SOC_

* Independent
* Blue Team participation


__Elements of a Security Plan__

* Policies
* Standards
* Procedures


__Incident Response Plan__ 

> A document that outlines the procedures to take in each step
> of incident response


__Tool Types__

* Detection and Management Tools
* Documentation Tools
* Investigate Tools (_Sniffers_)


__Documentation__

> Any form of recorded content that is used for 
> a specific purpose. There is not a standard.
> Can be audio, digital, handwritten or video

* Playbooks
* Incident Handlers Journals
* Policies
* Plans
* Final Reports

_Playbooks_

> A manual that provides details about any operational action


_Popular Processor Tools_

* Google Docs
* OneNote
* Evernote
* Notepad++


_Ticketing System_

* Jira (_Document and Track Incidents_)


__Intrusion Detection System (IDS)__

> An application that monitors system and network
> activity and produces alerts on possible intrusions


__Intrusion Prevention System (IPS)__

> An application that monitors system activity
> for intrusions and take action to stop the activity

* Snort
* Suricata
* Sagan
* Kismet
* Zeek


_Detection Categories_

1. Positive TRUE __Correct detection of a REAL incident__
2. Negative TRUE __No Malicious Activity and NO ALERTS__
3. Positive False __Alert triggers and there is NO REAL Incident__
4. Negative False __Malicious activity, but NO Alerts__


__Endpoint Detection and Response__



__(SIEM)__

> An application that collects and analyzes log data to monitor
> critical activities in an organization
> COLLECT, ANALYZE AND REPORT


__Security Orchestration, Automation and Response (SOAR)__

> A collection of applications tools and workflows that uses
> automation to respond to security events
> AUTOMATE AND CENTRALIZE


__Network Traffic__

> The amount of data that moves across a network


__Network data__

> The data that's transmitted between devices on a network


__Indicators of compromise (IOC)__

> Observable evidence that suggests signs of a potential security incident
> Search anomalies with a way to detect an attack.
> Gives evidence that helps to identify and respond incidents easily.


__Data exfiltration__

> Unauthorized transmission of data from a system


__Pivoting__

> A tactic known as Lateral movement.
> When a Hacker spend time exploring the network with the goal
> of expanding and maintaining their access to other systems
> on the network to identify valuable assets (Lateral Movement).


__Defensive Measures__

1. Prevent attacker access
2. Monitor Network Activity
3. Protect assets
4. Detect and Stop exfiltration


__Components of a packet__

1. Header - Ports, IP Source and Destination
2. Payload - Actual data delivered
3. Footer - Signifies the End of the Packet


__PORTS__

> Non-Physical locations on a computer that organize 
> Data transmission between devices on a network


__Network Protocol Analyzer (Packet Sniffer)__

> A Tool designed to capture and analyze data traffic
> within a network


__Packet capture (P-cap)__

> A file containing data packets intercepted from an interface or network.



__Wireshark__

> Open Source Protocol Analyzer with a GUI


__Display Filters__

> Useful when inspecting large volumes of information


__Comparison Operators__

|  | Type | Symbol | Abreviature |
| :---: | :---: | :-----: | 
| Equal | == | eq |
| Not Equal | != | ne |
| Greater than | > | gt |
| Less than | < | lt |
| Greater or Equal | >= | ge |
| Less or Equal | <= | le |

> You can use __and__, __or__, parentheses,  
> "_contains_" operator or regular expressions (_matches_). 


__Filters by protocols:__

* dns
* http
* ftp
* ssh
* arp
* icmp

_Filtering IP address_

> ip.addr == 172.21.224.2

_Filtering IP source_

> ip.src == 172.21.224.2

_Filtering IP destination_

> ip.dst == 172.21.224.2

_Filtering MAC address_

> eth.addr == 00:70:f4:23:18:c4

_Filtering Ports_

> udp.port == 53
> tcp.port == 25



__tcpdump__

* _tos_ Type of Service - Value in Hexadecimal, different packets treated with different care
* _ttl_ Time To Live - How long a packet can travel across a network before dropped
* _id, offset, flags_ - Fragmentation - How reassemble packets in the correct order
* _proto_ - Protocol used
* _length_ - Length of the packet
* _cksum_ - Checksum to determine if any errors have occurred


__Analysis__

> Investigation and Alerts validation


__Benefits of Documentation__

* Transparency
* Standarization
* Clarity


__Chain of Custody__

> The process of documenting evidence possession and control during an incident lifecycle


__Broken chain of custody__

> Inconsistencies in the collection and logging of evidence in the chain of custody


__Triage__

> The prioritizing of incidents 
> according to their level of importance or urgency


__Eradication__

> The Complete removal of incident elements 
> from all affected systems


__Post-incident activity phase__

> The process of reviewing an incident 
> to identify areas for improvement during incident handling


__Logs__

* Network
* System
* Application
* Security
* Authentication


__Log Details__

* Date
* Time
* Location
* Action
* Names


__Log Analysis__

> The process of examining logs to identify events of interest


__syslog entry__

> Header, message and structured data


__Log Formats__

> Syslog
> JSON


__Telemetry__

> The Collection and transmission of data for analysis


__Intrusion Detection System (IDS)__

> An application that monitors activity and alerts on possible intrusions


__Endpoint__

> Any device connected on a network


__Host-based Intrusion Detection System__

> An application that monitors the activity of the host on which it's installed


__Network-based Intrusion Detection System__

> An application that collects and monitors network traffic and network data


__Signature Analysis__

> A detection method used to find events of interest (By patterns)


__RULES__

> Rules or Signatures are used to identify patterns, conditions and specific behaviors
> about traffic. The Signature Analysis helps to find interest events, and have 3 components:

* Action: What to do if finds a match -> _ALERT_, _PASS_, _DROP_, _REJECT_
* Header: Information about Network Traffic -> IP addresses, Ports, Protocols
* Options: Options to Customize Signatures -> Flow: match direction of network flow.


__LOG Files__

> Suricata creates 2 log files:

* eve.json: Standard -> Detailed information and metadata about events / alerts
* fast.log: Minimum Alert -> Legacy file format, not suitable for incident response


__SPLUNK__

> Data Analysis Platform

* host 

> Specify the host name, like a network device or another system


* source

> Identify the file name from the source of an event


__SPL Search Processing Language__

> Splunk's Query Language

---

__Chronicle__

> Uses the YARA-L


__YARA-L__

> A computer language used to create rules for searching through ingested log data


__Types of Search__

* UDM (Unified Data Model) search
* Raw log search



## [7] Automate Cybersecurity Task with Python üîêüîêüîêüîêüîêüîêüîê


__Automation__

> The use of technology to reduce human and manual effort to perform
> common and repetitive tasks


__Advantages of Python__

* Resembles human language
* Less code
* Easy to read
* Standard guidelines
* Online support
* Built-in code

 
__Automates Tasks__

* Logs Analysis
* Malware Analysis
* Access Control Lists Management
* Intrusions Detection
* Compliance Control
* Network Analysis


__Comment__

> A note programmers make about the intention behind the code


__Syntax__

> The rules that determine what is correctly structured
> in a computer language


__Data Type__

> Category for a particular type of data item


__String Data__

> Data consisting of an ordered sequence of characters


__Float Data__

> Data consisting of a number with a decimal point


__Integer Data__

> Data consisting of a number that does not include decimal point


__List Data__

> Data structure that consists of a collection of data in sequential form


__Variables__

> A container that stores data


__type()__

> A function that return the data type of its input


__Conditionals__

```python
operating_system = 3
if operating_system < 3:
  print("Updates needed")
else:
  print("No updates needed")
  
```

__Loops__

```python
for i in range(3):
  print("No se pudo establecer la conexi√≥n")

```

__Function__

> A section of code that can be reused in a program


__Parameter__

> An object that is included in a function definition


__Argument__

> The data brought into a function when it is called 


__Return statement__

> Statement that executes inside a function and sends information back
> to the function call


__sorted()__

> Helps to order a list


__Library__

> A collection of modules that provide code users can access
> in their programs

* Beautiful Soup
* NumPy


__Module__

> A Python file that contains additional functions,
> variables, classes and any kind of runnable code

* re
* csv
* glob
* os
* time
* datetime


__PEP (_Python Enhancement Proposals_) 8 style guide__

> A resource that provides stylistic guidelines
> for origrammers working in Python


__Indentation__

> Space added at the beginning of a line of code


__str()__

> Converts the input object into a string


__len()__

> Return the number of elements in an object
> Ex. id_chars = len(employee_id)


__method__

> A function that belongs to a specific data type


__.upper()__

> Returns a copy of the string in all uppercase letters


__.lower()__

> Return a copy of the string in all lowercase letters


__INDEX()__

> A number assigned to every element in a sequence of a STRING that indicates its position
> We can get more than 1 character with _slices:_
> Ex. print("Hello"[0:4]) returns "Hell". 
> The first number is the start, the second, where to stop (but not to show!)


__.index()__

> Method that finds the first occurrence of the input
> in a string and returns its location
> Ex. print("HELLO".index("E"))
> To find the index of letter "E" in "HELLO"


__.insert()__

> Adds an element in a specific position inside a list

```python
my_list = ["a","b","c"]
my_list.insert(1,"ab")
# now is ["a","ab","b","c"]
```


__.remove()__

> Removes the first occurrence of a specific element in a list

```python
my_list = ["a","b","c"]
my_list.remove("ab")
# now is ["a","b","c"] again
```

__Algorithm__

> A set of rules that solve a problem


### REGULAR EXPRESSIONS

#### +

> Represents one or more occurrences of a specific character
> Ex. "a+" can get: "a", "aaaa"

### \w

> Matches with any alphanumeric character
> but it does not match symbols
> Ex. "\w" can get "1","c"

### \w+

> This combination can get: "security", "abc123", "192"


### .

> Any character


### \d

> All digits

```python
import re
print(re.findall("\d","h32rb17"))
# ['3','2','1',7']
```

### \s

> Spaces


### \.

> Period.


### Combinations

```python
import re
print(re.findall("\d+","h32rb17"))
# ['32','17']
```

```python
import re
print(re.findall("\d{2}", "h32rb17 k825t0m c2994eh"))
# ['32', '17', '82', '29', '94']
```

```python
import re
print(re.findall("\d{1,3}", "h32rb17 k825t0m c2994eh"))
# ['32', '17', '825', '0', '299', '4']
```

```python
# IP pattern !!!!
pattern = "\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}"
```



### with

> Handles errors and manages external resources


__open()__

> Opens a file in Python

```python
with open("login_atempts.txt", "r") as file:

```

__.read()__

> Converts files into strings

```python
with open("login_atempts.txt", "r") as file:
  file_text = file.read()

print(file_text)
```


## Parsing

> The process of converting data into a more readable format


__.split()__

> Converts a string into a list

```python
with open("login_attempts", "r") as file:
  file_text =  file.read()

usernames = file_text.split()

def login_check(login_list, current_user):
  counter = 0
  for i in login_list:
    if i == current_user:
      counter = counter + 1
  
  if counter >= 3:
    return "Cuenta bloqueada"
  else:
    return "You can log in"

login_check(usernames, "eraab")

```

## [8] Put to Work: Prepare for Cybersecurity Jobs üîêüîêüîêüîêüîêüîêüîê


### Information Lifecycle

* Identify assets and the MOST important information
* Evaluate Security Measures and Policies
* Protect identified assets
* Supervise the processes

> PROTECTING THE DATA AND ASSETS OF AN ORGANIZATION
> IS THE PRIMARY GOAL OF A SECURITY TEAM


### Incident Escalation

> The process of identifying a potential security incident, triaging it,
> and handling it off to a more experienced team member


### Essential skills to scalate security incidents

* Attention to detail
* Ability to follow an organization's escalation guidelines or processes

> CISO: Chief Information Security Officer

A problem can cause:

* Costs money to the company
* Exposes sensitive customer data
* Damage in Company's reputation


### Escalation

> Tell a superior about a security incident


### Malware infection

> An incident type that occurs when malicious software designed to
> disrupt a system infiltrates an organization's computer or network


### Unauthorized access

> An incident type that occurs when an individual 
> gains digital or physical access to a system or
> application without permission
> __ALL UNAUTHORIZED ACCESS AND IMPROPER USAGE ARE IMPORTANT TO ESCALATE__

* __Bruce Force Attacks__

> Use trial and error to compromise passwords,
> login credentials and encryption keys.


### Improper Usage

> An incident type that occurs when an employee of an organization
> violates the organization's acceptable use policies


### Roles in Escalation

* Data owners
* Data controllers
* Data processors
* Data custodians
* Data Protection Officers


### Escalation Policy

> A set of actions that outline who should be notified
> when an incident alert occurs and how that incident
> should be handled

### Stakeholders

> An individual or group that has an interest in the decisions
> or activities of an organization


### Risk Manager Responsabilities

* Identify risks
* Manage the response to security incidents
* Notify the legal department
* Inform the organization's public relations team


### CEO Responsabilities 

* Financial and managerial decisions
* Report to shareholders
* Manage operations


### CFO Responsabilities

* Manage financial operations
* Costs of tools and strategies


### CISO Responsabilities

* Develop an organization's security architecture
* Conduct risk analysis and system audits
* Create security and business continuity plans


### Operations Manager Responsabilities

* Oversee security professionals
* Work directly with analysts
* Responsible for daily maintenance of security operations


### Communicate the story

* Email
* Document
* Visual Representation - Charts and Graphs
* Phone or Vide Calls
* Spreadsheet
* Incident Management or Ticketing Systems


### Effective Communication

* Get to the point
* Follow the protocols
* Communicate with impact


### Resources

* OWASP
* CSO Online
* Krebs on Security
* Dark Reading


### Job searching sites

* ZipRecruiter
* Indeed
* Monster Jobs


### Create a CV

1. Name
2. Title
3. Contact (Phone / Email)
4. Summary State










